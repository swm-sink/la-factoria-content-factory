# La Factoria Environment Configuration
# ======================================
# Copy this file to .env and update with your actual values

# Application Environment
ENVIRONMENT=development
DEBUG=true

# Security Configuration
SECRET_KEY=your-super-secure-secret-key-change-this-in-production
LA_FACTORIA_API_KEY=your-la-factoria-api-key-for-client-authentication

# Database Configuration (Railway PostgreSQL)
DATABASE_URL=postgresql://username:password@hostname:port/database_name
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Redis Configuration (for caching and performance optimization)
REDIS_URL=redis://localhost:6379
CACHE_TTL=3600

# AI Provider Configuration (CRITICAL for content generation)
# Get OpenAI API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-your-openai-api-key-here

# Get Anthropic API key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# Optional: ElevenLabs for audio generation
# Get ElevenLabs API key from: https://elevenlabs.io/
ELEVENLABS_API_KEY=your-elevenlabs-api-key-here

# Optional: Google Vertex AI for cost-effective scaling
GOOGLE_CLOUD_PROJECT=your-google-cloud-project-id
GOOGLE_CLOUD_REGION=us-central1

# Langfuse Configuration (for AI observability and cost tracking)
# Get Langfuse keys from: https://cloud.langfuse.com/
LANGFUSE_SECRET_KEY=sk-lf-your-secret-key-here
LANGFUSE_PUBLIC_KEY=pk-lf-your-public-key-here
LANGFUSE_HOST=https://cloud.langfuse.com

# Content Generation Settings
DEFAULT_MAX_TOKENS=3000
CONTENT_GENERATION_TIMEOUT=120
MAX_CONCURRENT_GENERATIONS=10

# Educational Quality Thresholds (from learning science research)
QUALITY_THRESHOLD_OVERALL=0.70
QUALITY_THRESHOLD_EDUCATIONAL=0.75
QUALITY_THRESHOLD_FACTUAL=0.85

# Rate Limiting Configuration
RATE_LIMIT_REQUESTS_PER_MINUTE=60
RATE_LIMIT_GENERATIONS_PER_HOUR=100

# CORS Configuration (update for production domains)
ALLOWED_ORIGINS=["http://localhost:3000","http://127.0.0.1:3000","https://your-domain.com"]

# Monitoring and Health Checks
HEALTH_CHECK_TIMEOUT=30
METRICS_ENABLED=true
LOG_LEVEL=INFO

# File Upload Limits
UPLOAD_MAX_SIZE=10485760
STATIC_FILES_DIR=static

# === QUICK START GUIDE ===
#
# 1. MINIMUM REQUIRED for basic functionality:
#    - Copy this file to .env
#    - Set OPENAI_API_KEY (get from https://platform.openai.com/api-keys)
#    - Set SECRET_KEY to a secure random string
#
# 2. RECOMMENDED for production quality:
#    - Set ANTHROPIC_API_KEY for content generation fallback
#    - Set REDIS_URL for 90% cost reduction through caching
#    - Set LANGFUSE keys for AI cost monitoring and prompt management
#
# 3. PRODUCTION DEPLOYMENT on Railway:
#    - All variables above should be set in Railway environment variables
#    - DATABASE_URL will be automatically provided by Railway PostgreSQL
#    - REDIS_URL will be automatically provided by Railway Redis
#    - Update ALLOWED_ORIGINS to include your production domain
#
# === COST OPTIMIZATION ===
#
# Redis caching can reduce AI costs by up to 90% by caching:
# - Frequently generated content patterns
# - Quality assessment results
# - Prompt template compilations
#
# Langfuse provides AI cost tracking and optimization:
# - Token usage monitoring across providers
# - Prompt performance analysis
# - Cost per content type tracking
# - Quality score correlation with AI spend