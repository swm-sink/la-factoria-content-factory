<prompt_component>
  <step name="Intelligent Context Summarization">
    <description>
Advanced context summarization system that intelligently compresses conversation history, code analysis, and session data while preserving critical information. Uses semantic analysis and importance scoring to maintain context quality with optimal token efficiency.
    </description>
  </step>

  <intelligent_summarization>
    <content_analysis>
      <semantic_analysis>
        <!-- Analyze content semantics for intelligent summarization -->
        <importance_scoring>
          - Score content based on relevance to current objectives
          - Analyze topic relationships and cross-references
          - Identify key decisions and outcomes
          - Detect recurring themes and patterns
        </importance_scoring>
        
        <context_categorization>
          - Categorize content by type (code, decisions, discussions)
          - Classify information by temporal relevance
          - Group related concepts and dependencies
          - Identify actionable items and follow-ups
        </context_categorization>
      </semantic_analysis>
      
      <information_hierarchy>
        <!-- Create hierarchical information structure -->
        <critical_information>
          - Current active tasks and objectives
          - Recent decisions and their rationales
          - Key code changes and modifications
          - Active debugging and problem-solving context
        </critical_information>
        
        <supporting_information>
          - Background context and historical decisions
          - Relevant code patterns and examples
          - Related documentation and references
          - Previous similar problem solutions
        </supporting_information>
        
        <archival_information>
          - Completed tasks and historical context
          - Superseded decisions and outdated information
          - General background knowledge
          - Low-relevance discussion threads
        </archival_information>
      </information_hierarchy>
    </content_analysis>
    
    <summarization_strategies>
      <adaptive_compression>
        <!-- Apply adaptive compression based on content type -->
        <conversation_summarization>
          - Extract key decisions and action items
          - Preserve important user preferences and feedback
          - Maintain critical technical discussions
          - Compress routine interactions and confirmations
        </conversation_summarization>
        
        <code_analysis_summarization>
          - Summarize code review findings and patterns
          - Preserve key architectural decisions
          - Maintain debugging insights and solutions
          - Compress detailed implementation discussions
        </code_analysis_summarization>
        
        <session_state_summarization>
          - Preserve active project context and goals
          - Maintain current task priorities and dependencies
          - Summarize progress and achievement milestones
          - Compress routine status updates and check-ins
        </session_state_summarization>
      </adaptive_compression>
      
      <quality_preservation>
        <!-- Ensure summarization quality and completeness -->
        <critical_preservation>
          - Never compress active debugging context
          - Preserve all user-specified important information
          - Maintain complete error reproduction steps
          - Keep intact all configuration and setup details
        </critical_preservation>
        
        <coherence_validation>
          - Ensure summarized content maintains logical flow
          - Validate that key relationships are preserved
          - Check for missing critical context links
          - Verify that summarization doesn't break understanding
        </coherence_validation>
      </quality_preservation>
    </summarization_strategies>
    
    <optimization_feedback>
      <effectiveness_monitoring>
        <!-- Monitor summarization effectiveness -->
        <compression_metrics>
          - Measure compression ratios and token savings
          - Track information retention and quality scores
          - Monitor user satisfaction with summarized context
          - Analyze performance impact of compression
        </compression_metrics>
        
        <adaptation_learning>
          - Learn from user feedback on summarization quality
          - Adapt compression strategies based on context types
          - Improve importance scoring based on usage patterns
          - Refine summarization rules and algorithms
        </adaptation_learning>
      </effectiveness_monitoring>
    </optimization_feedback>
  </intelligent_summarization>

  <o>
Intelligent context summarization completed with optimal information preservation:

**Compression Ratio:** [percentage]% reduction achieved while maintaining quality
**Critical Information:** 100% preserved (active tasks, decisions, debugging context)
**Supporting Context:** [percentage]% preserved with intelligent prioritization
**Token Efficiency:** [count] tokens saved with [quality score] preservation rating
**Coherence Score:** [0-100] logical flow and relationship preservation
**User Satisfaction:** [rating] based on summarization effectiveness
  </o>
</prompt_component> 