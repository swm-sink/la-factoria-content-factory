<prompt_component>
  <step name="Comprehensive Session Management">
    <description>
Unified session management system that provides intelligent session discovery, cataloging, restoration, and continuity. Ensures seamless development workflows through complete context preservation, smart search capabilities, and adaptive session handling across all development activities.
    </description>
  </step>

  <session_management>
    <session_discovery>
      <!-- Intelligent session discovery and cataloging -->
      <session_identification>
        <automatic_detection>
          <session_classification>
            - Identify session types (development, debugging, learning, planning)
            - Classify sessions by project and technology stack
            - Detect session complexity and scope
            - Categorize sessions by outcome and success metrics
            - Tag sessions with temporal and contextual markers
          </session_classification>
          
          <metadata_extraction>
            - Extract key metadata from session content
            - Identify primary topics and technologies discussed
            - Detect major decisions and outcomes
            - Catalog important artifacts and deliverables
            - Track session participants and roles
          </metadata_extraction>
          
          <content_analysis>
            - Analyze code changes and modifications
            - Track problem-solving patterns and approaches
            - Identify learning moments and insights
            - Detect errors encountered and resolutions
            - Map knowledge creation and transfer
          </content_analysis>
        </automatic_detection>
        
        <relationship_mapping>
          <session_connections>
            - Identify related sessions by topic and context
            - Map session dependencies and prerequisites
            - Detect session sequences and progressions
            - Analyze cross-session knowledge transfer
            - Track session evolution and branching
          </session_connections>
          
          <knowledge_graphs>
            - Build knowledge graphs from session relationships
            - Map concept evolution across sessions
            - Identify knowledge clusters and domains
            - Track learning paths and skill development
            - Visualize session interconnections
          </knowledge_graphs>
        </relationship_mapping>
      </session_identification>
      
      <intelligent_search>
        <semantic_search>
          <content_indexing>
            - Index session content with semantic analysis
            - Create searchable knowledge embeddings
            - Enable natural language session queries
            - Support concept-based and context-aware search
            - Implement fuzzy matching and similarity search
          </content_indexing>
          
          <search_optimization>
            - Rank sessions by relevance and quality
            - Consider recency and session success metrics
            - Apply user preference and context weighting
            - Provide personalized search recommendations
            - Optimize search performance with caching
          </search_optimization>
          
          <advanced_filtering>
            - Filter by session type and complexity
            - Search within specific time ranges
            - Filter by technology stack and tools
            - Apply outcome-based filtering
            - Support complex query combinations
          </advanced_filtering>
        </semantic_search>
        
        <contextual_recommendations>
          <recommendation_engine>
            - Suggest relevant sessions based on current context
            - Recommend follow-up sessions and next steps
            - Identify related learning opportunities
            - Propose session continuation and expansion
            - Surface similar problem-solving approaches
          </recommendation_engine>
          
          <adaptive_suggestions>
            - Learn from user session selection patterns
            - Adapt recommendations based on session outcomes
            - Improve suggestion accuracy over time
            - Personalize recommendations for user preferences
            - Balance exploration vs exploitation
          </adaptive_suggestions>
        </contextual_recommendations>
      </intelligent_search>
    </session_discovery>
    
    <session_restoration>
      <!-- Complete session restoration and continuity -->
      <state_reconstruction>
        <context_recovery>
          <conversation_restoration>
            - Reconstruct conversation history and context
            - Restore key decisions and discussion threads
            - Recover technical context and problem-solving state
            - Rebuild user preferences and customizations
            - Restore command history and execution patterns
          </conversation_restoration>
          
          <workspace_restoration>
            - Restore active files and editing context
            - Recover project structure and navigation state
            - Rebuild debugging and analysis context
            - Restore tool configurations and settings
            - Recover terminal state and environment
          </workspace_restoration>
          
          <knowledge_restoration>
            - Restore learned patterns and insights
            - Recover problem-solving strategies used
            - Rebuild mental models and understanding
            - Restore decision rationale and context
            - Recover experimental results and findings
          </knowledge_restoration>
        </context_recovery>
        
        <intelligent_prioritization>
          <critical_context>
            - Prioritize active tasks and immediate objectives
            - Restore current problem-solving context first
            - Recover critical debugging and error states
            - Rebuild essential project configuration
            - Focus on unfinished work and blockers
          </critical_context>
          
          <progressive_loading>
            - Load critical context immediately for quick resumption
            - Progressively restore supporting context and history
            - Lazy-load detailed historical information
            - Optimize restoration speed vs completeness trade-offs
            - Implement smart caching for frequent restorations
          </progressive_loading>
        </intelligent_prioritization>
      </state_reconstruction>
      
      <continuity_management>
        <seamless_transition>
          <context_bridging>
            - Bridge context gaps between sessions
            - Provide session transition summaries
            - Highlight changes and updates since last session
            - Ensure continuity of thought and workflow
            - Handle multi-day session continuations
          </context_bridging>
          
          <adaptive_resumption>
            - Adapt restoration based on time gap and context changes
            - Provide different restoration strategies for different scenarios
            - Handle interrupted vs planned session endings
            - Optimize for different session types and contexts
            - Support partial session restoration
          </adaptive_resumption>
          
          <synchronization>
            - Sync session state across devices
            - Handle concurrent session modifications
            - Resolve conflicts in session state
            - Maintain session version history
            - Support collaborative session sharing
          </synchronization>
        </seamless_transition>
        
        <validation_verification>
          <context_integrity>
            - Verify completeness of restored context
            - Validate consistency of restored state
            - Check for missing or corrupted information
            - Ensure all critical context is accessible
            - Detect and repair session inconsistencies
          </context_integrity>
          
          <user_confirmation>
            - Present restoration summary to user
            - Allow user verification and correction of context
            - Provide options for manual context adjustment
            - Enable user feedback on restoration quality
            - Support selective context restoration
          </user_confirmation>
        </validation_verification>
      </continuity_management>
    </session_restoration>
    
    <session_analytics>
      <!-- Analytics and optimization for sessions -->
      <usage_analytics>
        <access_patterns>
          - Track session access frequency and patterns
          - Analyze session utility and effectiveness
          - Monitor session knowledge reuse rates
          - Identify high-value and underutilized sessions
          - Detect session abandonment patterns
        </access_patterns>
        
        <knowledge_metrics>
          - Measure knowledge transfer effectiveness
          - Track skill development and learning progress
          - Analyze problem-solving pattern evolution
          - Monitor productivity and efficiency trends
          - Quantify session outcome quality
        </knowledge_metrics>
        
        <performance_tracking>
          - Monitor session duration and intensity
          - Track context switching overhead
          - Measure restoration time and success rates
          - Analyze search query effectiveness
          - Monitor system resource usage
        </performance_tracking>
      </usage_analytics>
      
      <optimization_insights>
        <efficiency_analysis>
          - Identify opportunities for session consolidation
          - Recommend session organization improvements
          - Suggest knowledge gap filling sessions
          - Optimize session discovery and navigation
          - Propose workflow enhancements
        </efficiency_analysis>
        
        <predictive_analytics>
          - Predict future session needs and requirements
          - Forecast knowledge development trends
          - Anticipate learning and development opportunities
          - Recommend proactive session planning
          - Identify potential session bottlenecks
        </predictive_analytics>
        
        <continuous_improvement>
          - Learn from session success patterns
          - Improve restoration algorithms
          - Enhance search relevance
          - Optimize recommendation accuracy
          - Refine session classification
        </continuous_improvement>
      </optimization_insights>
    </session_analytics>
    
    <integration_features>
      <!-- Integration with other systems -->
      <external_integration>
        <version_control>
          - Link sessions to git commits and branches
          - Track code evolution across sessions
          - Associate sessions with pull requests
          - Map sessions to issue tracking
          - Maintain development timeline
        </version_control>
        
        <documentation>
          - Auto-generate session summaries
          - Create knowledge base articles
          - Export session insights
          - Generate learning paths
          - Produce progress reports
        </documentation>
      </external_integration>
      
      <automation_features>
        <auto_cataloging>
          - Automatically catalog new sessions
          - Update session metadata in real-time
          - Maintain session integrity
          - Handle session archival
          - Manage session lifecycle
        </auto_cataloging>
        
        <smart_defaults>
          - Predict session preferences
          - Auto-configure restoration settings
          - Suggest session templates
          - Optimize default behaviors
          - Learn from usage patterns
        </smart_defaults>
      </automation_features>
    </integration_features>
  </session_management>

  <o>
Comprehensive session management system implemented with full lifecycle support:

**Discovery:** [count] sessions cataloged with [count] relationships mapped
**Search:** Semantic search across [count] indexed concepts and embeddings
**Restoration:** [percentage]% average context recovery success rate
**Continuity:** [timing] average session restoration time
**Analytics:** [count] usage patterns identified for optimization
**Efficiency:** [0-100] overall session management effectiveness score
**Integration:** Connected to version control, documentation, and automation
  </o>
</prompt_component>